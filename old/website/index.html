<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>my first website</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        @font-face {
            font-family: 'CustomFont';
            src: url('font.otf') format('opentype');
        }
        
        body {
            background-color: #008080;
            font-family: 'CustomFont', 'MS Sans Serif', Tahoma, monospace;
            margin: 0;
            padding: 0;
            cursor: default;
            overflow: hidden;
        }

        .window {
            background: silver;
            border: 2px solid gray;
            box-shadow: 4px 4px 0 #000;
            position: absolute;
            padding: 5px;
            font-size: 12px;
            z-index: 1;
        }

        .title-bar {
            color: #fff;
            padding: 5px;
            font-weight: 700;
            cursor: move;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
        }

        .title-bar.navy { background: navy; }
        .title-bar.yellow { background: #dbc712; }
        .title-bar.blue { background: #1100ff; }

        .close-btn {
            background: silver;
            border: 1px solid #fff;
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 12px;
            color: #000;
        }

        .close-btn:hover {
            background: #ddd;
        }

        .content {
            padding: 10px;
            background: #fff;
            border: 1px solid gray;
            font-size: 14px;
            line-height: 1.4;
        }

        .content p {
            margin: 4px 0;
        }

        .ad-window {
            position: absolute;
            border: 2px solid gray;
            box-shadow: 4px 4px 0 #000;
            background-color: #c0c0c0;
            padding: 5px;
            font-size: 12px;
            z-index: 1;
        }

        .ad-window img {
            display: block;
            margin: 5px auto;
            image-rendering: pixelated;
        }

        .progress {
            width: 100%;
            height: 12px;
            background: #fff;
            border: 1px inset gray;
            margin: 8px 0;
            position: relative;
        }

        .progress-bar {
            width: 0;
            height: 100%;
            background: navy;
            transition: width 0.1s linear;
        }

        .controls {
            display: flex;
            gap: 5px;
            justify-content: center;
            padding: 5px;
        }

        .controls img {
            cursor: pointer;
            image-rendering: pixelated;
        }

        audio {
            display: none;
        }
    </style>
</head>
<body>
    <div id="desktop"></div>

    <script>
        const windows = [
            {
                id: 'window1',
                title: 'website',
                titleBarClass: 'navy',
                content: `<p>hey! welcome to my first website :-)</p><p>here, you can do... nothing xD</p>`,
                position: { top: 50, left: 50 },
                width: 400
            },
            {
                id: 'window2',
                title: 'sticky notes',
                titleBarClass: 'yellow',
                content: `<p>if you want to take my code</p><p>to modify it and make a site of the same</p><p>style, you can totally! ^^</p><p>last update: 05 February 2025</p>`,
                position: { top: 186, left: 220 },
                width: 360
            },
            {
                id: 'window3',
                title: 'credits',
                titleBarClass: 'blue',
                content: '<p>development by refresh4ever</p><p>music by madxruler</p>',
                position: { top: 360, left: 30 },
                width: 300
            },
            {
                id: 'window4',
                title: 'about me',
                titleBarClass: 'navy',
                content: '<p>hey, i am refresh4ever</p><p>my email is hello.refresh4ever@gmail.com</p><p>and my discord is: @refresh4ever</p><p>i am the only developer on this project.</p>',
                position: { top: 480, left: 200 },
                width: 320
            }
        ];

        const ads = [
            {
                id: 'ad1',
                title: 'ad',
                image: 'https://i.imgur.com/MDJzBZK.png',
                position: { top: 120, left: window.innerWidth * 0.75 },
                dimensions: { width: 300, height: 289 }
            },
            {
                id: 'ad2',
                title: 'ad',
                image: 'https://i.imgur.com/o3eqVvC.png',
                position: { top: 389, left: window.innerWidth * 0.65 },
                dimensions: { width: 300, height: 200 }
            },
            {
                id: 'ad3',
                title: 'ad',
                image: 'https://i.imgur.com/EOdunms.png',
                position: { top: 425, left: window.innerWidth * 0.85 },
                dimensions: { width: 250, height: 150 }
            },
            {
                id: 'ad4',
                title: 'ad',
                image: 'https://i.imgur.com/9FtSSWG.png',
                position: { top: 520, left: window.innerWidth * 0.55 },
                dimensions: { width: 120, height: 120 }
            }
        ];

        const createWindow = config => {
            const windowEl = document.createElement('div');
            windowEl.className = 'window';
            windowEl.id = config.id;
            windowEl.style.width = config.width + 'px';
            windowEl.style.top = config.position.top + 'px';
            windowEl.style.left = config.position.left + 'px';

            windowEl.innerHTML = `
                <div class="title-bar ${config.titleBarClass}">
                    <span>${config.title}</span>
                    <div class="close-btn">X</div>
                </div>
                <div class="content">${config.content}</div>
            `;

            windowEl.querySelector('.close-btn').addEventListener('click', () => {
                windowEl.style.display = 'none';
            });

            return windowEl;
        };

        const createAd = config => {
            const ad = document.createElement('div');
            ad.className = 'ad-window';
            ad.id = config.id;
            ad.style.top = config.position.top + 'px';
            ad.style.left = config.position.left + 'px';

            ad.innerHTML = `
                <div class="title-bar navy">
                    <span>${config.title}</span>
                    <div class="close-btn">X</div>
                </div>
                <img src="${config.image}" alt="${config.title}" width="${config.dimensions.width}" height="${config.dimensions.height}">
            `;

            ad.querySelector('.close-btn').addEventListener('click', () => {
                ad.style.display = 'none';
            });

            return ad;
        };

        const createPlayer = () => {
            const player = document.createElement('div');
            player.className = 'window';
            player.id = 'player';
            player.style.width = '280px';
            player.style.bottom = '20px';
            player.style.left = '20px';
            player.style.top = 'auto';

            player.innerHTML = `
                <div class="title-bar navy">
                    <span>Media Player</span>
                    <div class="close-btn">X</div>
                </div>
                <div style="padding: 8px;">
                    <div class="progress">
                        <div class="progress-bar" id="progress-bar"></div>
                    </div>
                    <div class="controls">
                        <img src="▶" alt="Play" id="play-pause" width="35" height="35">
                        <img src="⟳" alt="Loop" id="loop" width="35" height="35">
                    </div>
                    <audio id="audio" src="song.mp3"></audio>
                </div>
            `;

            player.querySelector('.close-btn').addEventListener('click', () => {
                const audio = document.getElementById('audio');
                audio.pause();
                player.style.display = 'none';
            });

            return player;
        };

        const makeDraggable = element => {
            const titleBar = element.querySelector('.title-bar');
            if (!titleBar) return;

            let isDragging = false;
            let offsetX = 0;
            let offsetY = 0;
            let highestZ = 100;

            titleBar.addEventListener('mousedown', e => {
                if (e.target.classList.contains('close-btn')) return;
                
                isDragging = true;
                offsetX = e.clientX - element.offsetLeft;
                offsetY = e.clientY - element.offsetTop;
                element.style.zIndex = ++highestZ;
                
                e.preventDefault();
            });

            document.addEventListener('mousemove', e => {
                if (!isDragging) return;
                
                let newLeft = e.clientX - offsetX;
                let newTop = e.clientY - offsetY;
                
                newLeft = Math.max(0, Math.min(newLeft, window.innerWidth - element.offsetWidth));
                newTop = Math.max(0, Math.min(newTop, window.innerHeight - element.offsetHeight));
                
                element.style.left = newLeft + 'px';
                element.style.top = newTop + 'px';
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
        };

        document.addEventListener('DOMContentLoaded', () => {
            const desktop = document.getElementById('desktop');

            windows.forEach(config => {
                const windowEl = createWindow(config);
                desktop.appendChild(windowEl);
                makeDraggable(windowEl);
            });

            ads.forEach(config => {
                const ad = createAd(config);
                desktop.appendChild(ad);
                makeDraggable(ad);
            });

            const player = createPlayer();
            desktop.appendChild(player);
            makeDraggable(player);

            const audio = document.getElementById('audio');
            const progressBar = document.getElementById('progress-bar');
            const playPauseButton = document.getElementById('play-pause');
            const loopButton = document.getElementById('loop');

            let isPlaying = false;
            let isLooping = false;

            playPauseButton.addEventListener('click', () => {
                if (audio.paused) {
                    audio.play().catch(e => console.log('Audio play failed:', e));
                    isPlaying = true;
                } else {
                    audio.pause();
                    isPlaying = false;
                }
            });

            loopButton.addEventListener('click', () => {
                audio.loop = !audio.loop;
                isLooping = audio.loop;
            });

            audio.addEventListener('timeupdate', () => {
                if (audio.duration) {
                    const progress = (audio.currentTime / audio.duration) * 100;
                    progressBar.style.width = progress + '%';
                }
            });

            audio.addEventListener('ended', () => {
                if (!audio.loop) {
                    progressBar.style.width = '0%';
                }
            });
        });
    </script>
</body>
</html>

